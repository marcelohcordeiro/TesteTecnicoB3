<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>E:\TesteTecnicoB3\B3.WebApi\Controllers\TituloController.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using B3.Application.Inputs;
using B3.Domain.Interfaces;
using B3.Domain.Models;
using Microsoft.AspNetCore.Mvc;
using Microsoft.EntityFrameworkCore;
using Microsoft.VisualBasic;

namespace B3.Application.WebApi.Controllers
{
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class TituloController : ControllerBase
    {
        private readonly ITituloService _tituloService;


        public TituloController(ITituloService tituloService)
        {
            _tituloService = tituloService;
        }

        [HttpGet]
        public async Task&lt;IActionResult&gt; GetTitulos()
        {
            try
            {
                var titulos = await _tituloService.GetTitulos();
                return Ok(titulos);
            }
            catch (Exception ex)
            {
                return BadRequest(ex.Message);
            }


        }

        

        [HttpGet(&quot;{id}&quot;)]
        public async Task&lt;IActionResult&gt; GetTituloById(Guid id)
        {
            try
            {
                var titulo = await _tituloService.GetTituloById(id);
                return Ok(titulo);
            }
            catch (Exception ex)
            {
                return BadRequest(ex.Message);
            }


        }


        [HttpGet(&quot;renda-fixa&quot;)]
        public async Task&lt;IActionResult&gt; GetTitulosRendaFixa()
        {
            try
            {
                var titulo = await _tituloService.GetTitulosRendaFixa();
                return Ok(titulo);
            }
            catch (Exception ex)
            {
                return BadRequest(ex.Message);
            }


        }
        

        [HttpPost(&quot;simulacao&quot;)]
        public async Task&lt;IActionResult&gt; GetSimulacaoTitulo([FromBody] SimulacaoTituloInputModel input)
        {
            try
            {
                var titulo = await _tituloService.GetSimularTitulo(input.IdTitulo, input.ValorInicial, input.QuantidadeMesesInvestimento);
                return Ok(titulo);
            }
            catch (Exception ex)
            {
                return BadRequest(ex.Message);
            }
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[17,9,17,62,0],[18,9,18,10,0],[19,13,19,44,0],[20,9,20,10,0],[24,9,24,10,0],[26,13,26,14,0],[27,17,27,65,0],[28,17,28,36,0],[30,13,30,33,0],[31,13,31,14,0],[32,17,32,47,0],[36,9,36,10,0],[42,9,42,10,0],[44,13,44,14,0],[45,17,45,69,0],[46,17,46,35,0],[48,13,48,33,0],[49,13,49,14,0],[50,17,50,47,0],[54,9,54,10,0],[59,9,59,10,0],[61,13,61,14,0],[62,17,62,73,0],[63,17,63,35,0],[65,13,65,33,0],[66,13,66,14,0],[67,17,67,47,0],[71,9,71,10,0],[76,9,76,10,0],[78,13,78,14,0],[79,17,79,139,0],[80,17,80,35,0],[82,13,82,33,0],[83,13,83,14,0],[84,17,84,47,0],[86,9,86,10,0]]);
    </script>
  </body>
</html>